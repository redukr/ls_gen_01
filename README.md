# LS_gen_01

Покращена версія генератора карток з архітектурою, орієнтованою на підтримку та розширення.

## Архітектура

Проект побудований за принципами чистої архітектури з чітким розділенням відповідальностей:

- **app** - Основний додаток (точка входу, конфігурація, стан)
- **core** - Бізнес-логіка (моделі, сервіси, репозиторії)
- **ui** - Користувацький інтерфейс (головне вікно, компоненти, віджети)
- **infrastructure** - Інфраструктурні компоненти (AI, рендерер, зберігання, переклад)

## Встановлення

1. Клонуйте репозиторій
2. Встановіть залежності:
   ```bash
   pip install -r requirements.txt
   ```
3. Створіть необхідні директорії:
   ```bash
   mkdir -p export
   mkdir -p infrastructure/ai/models
   mkdir -p resources/assets/fonts
   mkdir -p resources/assets/icons
   mkdir -p resources/assets/frames
   mkdir -p resources/templates
   mkdir -p resources/locales
   ```

### Розташування моделей

- **SDXL**: каталоги з вагами потрібно помістити у `infrastructure/ai/models`. Додаток автоматично підхоплює `infrastructure/ai/models/realvisxl` як **RealVisXL (SDXL)** та `infrastructure/ai/models/stable-diffusion-xl-base-1.0` як **SDXL Base 1.0**. Використовуйте саме такі назви папок, щоб моделі з'явилися в списку.
- **Переклади**: файли локалізації шукаються у `resources/locales` (наприклад, `resources/locales/uk.json`, `resources/locales/en.json`). Жодних моделей перекладу в каталог моделей розміщувати не потрібно; додавайте або редагуйте JSON-файли локалей у цій папці.
- **Шрифти**: картковий рендерер використовує файл `resources/assets/fonts/LS_font.ttf`, якщо він присутній. Якщо файл не знайдено, автоматично підхоплюється стандартний шрифт Pillow `DejaVuSans`. Щоб прибрати попередження в консолі, додайте власний TTF-файл за цим шляхом.

## Запуск

```bash
python -m app.main
```

## Функціонал

- Генерація зображень за допомогою ШІ
- Редагування карток
- Перегляд колоди
- Експорт зображень та PDF
- Багатомовна підтримка (українська, англійська)

## Розробка

Проект використовує патерн MVC (Model-View-Controller) з чітким розділенням відповідальностей.

### Моделі

- `Card` - модель картки
- `Deck` - модель колоди
- `CardStats` - модель статистики для юнітів

### Сервіси

- `AIService` - сервіс для генерації зображень
- `RendererService` - сервіс для рендерингу карток
- `ExportService` - сервіс для експорту
- `TranslationService` - сервіс для перекладу

### Репозиторії

- `CardRepository` - репозиторій для роботи з даними карток
- `TemplateRepository` - репозиторій для роботи з шаблонами

### Інфраструктурні компоненти

- `ImageGenerator` - генератор зображень за допомогою Stable Diffusion
- `CardRenderer` - рендерер карток
- `PDFExporter` - експортер у PDF
- `Translator` - перекладач

## Ліцензія

MIT License
